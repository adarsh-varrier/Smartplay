{"ast":null,"code":"var _jsxFileName = \"E:\\\\Smartplay\\\\frontend\\\\src\\\\components\\\\pages\\\\settings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Sidebar from \"../reuse/user-side\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Settings = () => {\n  _s();\n  const [userdetails, setUserDetails] = useState(null); // Initialize as null\n  const [loading, setLoading] = useState(true); // Loading state\n  const navigate = useNavigate(); // For redirection\n\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      const token = localStorage.getItem(\"authToken\"); // Get auth token\n\n      console.log(\"Token being sent:\", token);\n      if (!token) {\n        console.error(\"No token found, redirecting to login...\");\n        navigate(\"/login\"); // Redirect to login if no token\n        return;\n      }\n      try {\n        const response = await fetch(\"http://127.0.0.1:8000/api/settings/\", {\n          method: \"GET\",\n          headers: {\n            Authorization: `Token ${token}`,\n            // Attach token for authentication\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (!response.ok) {\n          if (response.status === 401) {\n            console.error(\"Unauthorized access, redirecting to login...\");\n            navigate(\"/settings\"); // Redirect to login on 401 error\n          }\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const data = await response.json();\n        setUserDetails(data); // Set user details\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      } finally {\n        setLoading(false); // Stop loading\n      }\n    };\n    fetchUserDetails();\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"head-customer\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-dark bg-dark\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"navbar-brand\",\n            to: \"/\",\n            children: \"SMARTPLAY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"navbar-toggler\",\n            type: \"button\",\n            \"data-bs-toggle\": \"collapse\",\n            \"data-bs-target\": \"#navbarNav\",\n            \"aria-controls\": \"navbarNav\",\n            \"aria-expanded\": \"false\",\n            \"aria-label\": \"Toggle navigation\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"navbar-toggler-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapse navbar-collapse\",\n            id: \"navbarNav\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"navbar-nav ms-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading user details...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this) : userdetails ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 18\n            }, this), \" \", userdetails.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 18\n            }, this), \" \", userdetails.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 18\n            }, this), \" \", userdetails.location && userdetails.location.trim() !== \"\" ? userdetails.location : \"Not provided\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 18\n            }, this), \" \", userdetails.user_type && userdetails.user_type.trim() !== \"\" ? userdetails.user_type : \"Not provided\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Failed to load user details.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Settings, \"OS1ulnVmR2NP7BPQs7WKqb6SDxA=\", false, function () {\n  return [useNavigate];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","Link","useNavigate","jsxDEV","_jsxDEV","Settings","_s","userdetails","setUserDetails","loading","setLoading","navigate","fetchUserDetails","token","localStorage","getItem","console","log","error","response","fetch","method","headers","Authorization","ok","status","Error","data","json","children","className","to","fileName","_jsxFileName","lineNumber","columnNumber","type","id","username","email","location","trim","user_type","_c","$RefreshReg$"],"sources":["E:/Smartplay/frontend/src/components/pages/settings.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Sidebar from \"../reuse/user-side\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Settings = () => {\r\n  const [userdetails, setUserDetails] = useState(null);  // Initialize as null\r\n  const [loading, setLoading] = useState(true);  // Loading state\r\n  const navigate = useNavigate();  // For redirection\r\n\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      const token = localStorage.getItem(\"authToken\"); // Get auth token\r\n\r\n      console.log(\"Token being sent:\", token);\r\n\r\n      if (!token) {\r\n        console.error(\"No token found, redirecting to login...\");\r\n        navigate(\"/login\");  // Redirect to login if no token\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(\"http://127.0.0.1:8000/api/settings/\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Token ${token}`,  // Attach token for authentication\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          if (response.status === 401) {\r\n            console.error(\"Unauthorized access, redirecting to login...\");\r\n            navigate(\"/settings\");  // Redirect to login on 401 error\r\n          }\r\n          throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        setUserDetails(data);  // Set user details\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      } finally {\r\n        setLoading(false);  // Stop loading\r\n      }\r\n    };\r\n\r\n    fetchUserDetails();\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"head-customer\">\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n          <div className=\"container-fluid\">\r\n            <Link className=\"navbar-brand\" to=\"/\">SMARTPLAY</Link>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n              <ul className=\"navbar-nav ms-auto\"></ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n\r\n      <div className=\"dashboard-container\">\r\n        <Sidebar />\r\n        <div className=\"dashboard-content\">\r\n          <h1>Settings</h1>\r\n          <h3>Your Details</h3>\r\n          {loading ? (\r\n            <p>Loading user details...</p>\r\n          ) : userdetails ? (\r\n            <div>\r\n              <p><strong>Username:</strong> {userdetails.username}</p>\r\n              <p><strong>Email:</strong> {userdetails.email}</p>\r\n              <p><strong>Location:</strong> {userdetails.location && userdetails.location.trim() !== \"\" ? userdetails.location : \"Not provided\"}</p>\r\n              <p><strong>Type:</strong> {userdetails.user_type && userdetails.user_type.trim() !== \"\" ? userdetails.user_type : \"Not provided\"}</p>\r\n\r\n            </div>\r\n          ) : (\r\n            <p>Failed to load user details.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}